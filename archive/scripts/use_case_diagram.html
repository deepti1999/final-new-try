<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Simulation - Use Case Diagram</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 1800px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 32px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 16px;
        }
        
        svg {
            width: 100%;
            height: auto;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: #fafafa;
        }
        
        .actor {
            fill: #4CAF50;
            stroke: #2E7D32;
            stroke-width: 2;
        }
        
        .actor-admin {
            fill: #2196F3;
            stroke: #1565C0;
            stroke-width: 2;
        }
        
        .actor-system {
            fill: #FF9800;
            stroke: #E65100;
            stroke-width: 2;
        }
        
        .usecase {
            fill: #E3F2FD;
            stroke: #1976D2;
            stroke-width: 2;
        }
        
        .usecase-planned {
            fill: #FFF9C4;
            stroke: #F57F17;
            stroke-width: 2;
            stroke-dasharray: 5,5;
        }
        
        .system-boundary {
            fill: none;
            stroke: #424242;
            stroke-width: 3;
            stroke-dasharray: 10,5;
        }
        
        .connection {
            stroke: #757575;
            stroke-width: 2;
            fill: none;
        }
        
        .connection-include {
            stroke: #4CAF50;
            stroke-width: 2;
            stroke-dasharray: 5,5;
            fill: none;
        }
        
        text {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .actor-text {
            font-size: 14px;
            font-weight: bold;
            fill: #333;
        }
        
        .usecase-text {
            font-size: 12px;
            fill: #1565C0;
            font-weight: 500;
        }
        
        .usecase-text-planned {
            font-size: 12px;
            fill: #F57F17;
            font-weight: 600;
        }
        
        .system-text {
            font-size: 20px;
            font-weight: bold;
            fill: #424242;
        }
        
        .legend {
            margin-top: 30px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 10px;
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legend-box {
            width: 40px;
            height: 30px;
            border-radius: 5px;
            border: 2px solid;
        }
        
        .legend-current {
            background: #E3F2FD;
            border-color: #1976D2;
        }
        
        .legend-planned {
            background: #FFF9C4;
            border-color: #F57F17;
            border-style: dashed;
        }
        
        .star {
            color: #FFD700;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåç Energy Simulation Web Application</h1>
        <p class="subtitle">Use Case Diagram - Complete System Overview</p>
        
        <svg viewBox="0 0 1600 1400" xmlns="http://www.w3.org/2000/svg">
            <!-- System Boundary -->
            <rect class="system-boundary" x="250" y="50" width="1100" height="1300" rx="20"/>
            <text class="system-text" x="700" y="90" text-anchor="middle">Energy Simulation System</text>
            
            <!-- Public User Actor -->
            <g id="public-user">
                <!-- Head -->
                <circle class="actor" cx="100" cy="300" r="25"/>
                <!-- Body -->
                <line class="actor" x1="100" y1="325" x2="100" y2="400"/>
                <!-- Arms -->
                <line class="actor" x1="100" y1="350" x2="60" y2="380"/>
                <line class="actor" x1="100" y1="350" x2="140" y2="380"/>
                <!-- Legs -->
                <line class="actor" x1="100" y1="400" x2="70" y2="450"/>
                <line class="actor" x1="100" y1="400" x2="130" y2="450"/>
                <text class="actor-text" x="100" y="480" text-anchor="middle">Public User</text>
            </g>
            
            <!-- Admin User Actor -->
            <g id="admin-user">
                <!-- Head -->
                <circle class="actor-admin" cx="100" cy="700" r="25"/>
                <!-- Body -->
                <line class="actor-admin" x1="100" y1="725" x2="100" y2="800"/>
                <!-- Arms -->
                <line class="actor-admin" x1="100" y1="750" x2="60" y2="780"/>
                <line class="actor-admin" x1="100" y1="750" x2="140" y2="780"/>
                <!-- Legs -->
                <line class="actor-admin" x1="100" y1="800" x2="70" y2="850"/>
                <line class="actor-admin" x1="100" y1="800" x2="130" y2="850"/>
                <text class="actor-text" x="100" y="880" text-anchor="middle">Admin/Analyst</text>
            </g>
            
            <!-- System Backend Actor -->
            <g id="system-backend">
                <!-- Head -->
                <circle class="actor-system" cx="1500" cy="700" r="25"/>
                <!-- Body -->
                <line class="actor-system" x1="1500" y1="725" x2="1500" y2="800"/>
                <!-- Arms -->
                <line class="actor-system" x1="1500" y1="750" x2="1460" y2="780"/>
                <line class="actor-system" x1="1500" y1="750" x2="1540" y2="780"/>
                <!-- Legs -->
                <line class="actor-system" x1="1500" y1="800" x2="1470" y2="850"/>
                <line class="actor-system" x1="1500" y1="800" x2="1530" y2="850"/>
                <text class="actor-text" x="1500" y="880" text-anchor="middle">System Backend</text>
            </g>
            
            <!-- PUBLIC USER USE CASES -->
            
            <!-- View Renewable Energy -->
            <ellipse class="usecase" cx="450" cy="150" rx="120" ry="40"/>
            <text class="usecase-text" x="450" y="155" text-anchor="middle">View Renewable</text>
            <text class="usecase-text" x="450" y="170" text-anchor="middle">Energy Data</text>
            <line class="connection" x1="140" y1="330" x2="330" y2="160"/>
            
            <!-- View Consumption -->
            <ellipse class="usecase" cx="450" cy="240" rx="120" ry="40"/>
            <text class="usecase-text" x="450" y="245" text-anchor="middle">View Energy</text>
            <text class="usecase-text" x="450" y="260" text-anchor="middle">Consumption</text>
            <line class="connection" x1="140" y1="350" x2="330" y2="250"/>
            
            <!-- View Land Use -->
            <ellipse class="usecase" cx="450" cy="330" rx="120" ry="40"/>
            <text class="usecase-text" x="450" y="335" text-anchor="middle">View Land Use</text>
            <text class="usecase-text" x="450" y="350" text-anchor="middle">Data</text>
            <line class="connection" x1="130" y1="370" x2="330" y2="340"/>
            
            <!-- View SMARD Data -->
            <ellipse class="usecase" cx="450" cy="420" rx="120" ry="40"/>
            <text class="usecase-text" x="450" y="425" text-anchor="middle">View SMARD</text>
            <text class="usecase-text" x="450" y="440" text-anchor="middle">Energy Data</text>
            <line class="connection" x1="130" y1="400" x2="330" y2="420"/>
            
            <!-- Export to Excel -->
            <ellipse class="usecase" cx="700" cy="150" rx="100" ry="35"/>
            <text class="usecase-text" x="700" y="155" text-anchor="middle">Export to</text>
            <text class="usecase-text" x="700" y="170" text-anchor="middle">Excel</text>
            <line class="connection" x1="140" y1="320" x2="600" y2="160"/>
            
            <!-- Toggle Section Details -->
            <ellipse class="usecase" cx="700" cy="240" rx="100" ry="35"/>
            <text class="usecase-text" x="700" y="245" text-anchor="middle">Toggle Section</text>
            <text class="usecase-text" x="700" y="260" text-anchor="middle">Details</text>
            <line class="connection" x1="140" y1="340" x2="600" y2="250"/>
            
            <!-- ADMIN USER USE CASES -->
            
            <!-- View Bilanz (PLANNED) -->
            <ellipse class="usecase-planned" cx="450" cy="650" rx="120" ry="40"/>
            <text class="usecase-text-planned" x="450" y="645" text-anchor="middle">‚≠ê View Bilanz</text>
            <text class="usecase-text-planned" x="450" y="660" text-anchor="middle">(Balance Sheet)</text>
            <text class="usecase-text-planned" x="450" y="675" text-anchor="middle" font-size="10">[PLANNED]</text>
            <line class="connection" x1="140" y1="750" x2="330" y2="660"/>
            
            <!-- Manage User Inputs (PLANNED) -->
            <ellipse class="usecase-planned" cx="450" cy="750" rx="120" ry="40"/>
            <text class="usecase-text-planned" x="450" y="745" text-anchor="middle">‚≠ê Manage User</text>
            <text class="usecase-text-planned" x="450" y="760" text-anchor="middle">Inputs & Scenarios</text>
            <text class="usecase-text-planned" x="450" y="775" text-anchor="middle" font-size="10">[PLANNED]</text>
            <line class="connection" x1="140" y1="760" x2="330" y2="755"/>
            
            <!-- Import CSV Data -->
            <ellipse class="usecase" cx="450" cy="850" rx="120" ry="40"/>
            <text class="usecase-text" x="450" y="855" text-anchor="middle">Import Data</text>
            <text class="usecase-text" x="450" y="870" text-anchor="middle">from CSV</text>
            <line class="connection" x1="140" y1="770" x2="330" y2="850"/>
            
            <!-- Run Calculations -->
            <ellipse class="usecase" cx="450" cy="950" rx="120" ry="40"/>
            <text class="usecase-text" x="450" y="955" text-anchor="middle">Run Calculations</text>
            <text class="usecase-text" x="450" y="970" text-anchor="middle">& Simulations</text>
            <line class="connection" x1="140" y1="780" x2="330" y2="950"/>
            
            <!-- Manage Database -->
            <ellipse class="usecase" cx="450" cy="1050" rx="120" ry="40"/>
            <text class="usecase-text" x="450" y="1055" text-anchor="middle">Manage</text>
            <text class="usecase-text" x="450" y="1070" text-anchor="middle">Database</text>
            <line class="connection" x1="140" y1="790" x2="330" y2="1050"/>
            
            <!-- Compare Scenarios (PLANNED) -->
            <ellipse class="usecase-planned" cx="700" cy="750" rx="100" ry="35"/>
            <text class="usecase-text-planned" x="700" y="750" text-anchor="middle">‚≠ê Compare</text>
            <text class="usecase-text-planned" x="700" y="765" text-anchor="middle">Scenarios</text>
            <line class="connection" x1="140" y1="760" x2="600" y2="750"/>
            
            <!-- SYSTEM BACKEND USE CASES -->
            
            <!-- Auto-Calculate Formulas -->
            <ellipse class="usecase" cx="1100" cy="500" rx="130" ry="40"/>
            <text class="usecase-text" x="1100" y="505" text-anchor="middle">Auto-Calculate</text>
            <text class="usecase-text" x="1100" y="520" text-anchor="middle">Formulas</text>
            <line class="connection" x1="1460" y1="730" x2="1230" y2="510"/>
            
            <!-- Process Data Relationships -->
            <ellipse class="usecase" cx="1100" cy="600" rx="130" ry="40"/>
            <text class="usecase-text" x="1100" y="605" text-anchor="middle">Process Data</text>
            <text class="usecase-text" x="1100" y="620" text-anchor="middle">Relationships</text>
            <line class="connection" x1="1470" y1="750" x2="1230" y2="610"/>
            
            <!-- Generate Reports -->
            <ellipse class="usecase" cx="1100" cy="700" rx="130" ry="40"/>
            <text class="usecase-text" x="1100" y="705" text-anchor="middle">Generate Reports</text>
            <text class="usecase-text" x="1100" y="720" text-anchor="middle">& Exports</text>
            <line class="connection" x1="1470" y1="760" x2="1230" y2="710"/>
            
            <!-- Validate Data -->
            <ellipse class="usecase" cx="1100" cy="800" rx="130" ry="40"/>
            <text class="usecase-text" x="1100" y="805" text-anchor="middle">Validate Data</text>
            <text class="usecase-text" x="1100" y="820" text-anchor="middle">Integrity</text>
            <line class="connection" x1="1470" y1="770" x2="1230" y2="810"/>
            
            <!-- INCLUDE RELATIONSHIPS (dashed lines) -->
            
            <!-- View Renewable includes Auto-Calculate -->
            <line class="connection-include" x1="570" y1="160" x2="970" y2="490"/>
            <text x="770" y="320" font-size="11" fill="#4CAF50" font-style="italic">&lt;&lt;include&gt;&gt;</text>
            
            <!-- View Consumption includes Auto-Calculate -->
            <line class="connection-include" x1="570" y1="250" x2="970" y2="490"/>
            
            <!-- View Bilanz includes Auto-Calculate -->
            <line class="connection-include" x1="570" y1="650" x2="970" y2="510"/>
            <text x="770" y="570" font-size="11" fill="#4CAF50" font-style="italic">&lt;&lt;include&gt;&gt;</text>
            
            <!-- Additional Labels -->
            <text x="300" y="1200" font-size="14" fill="#666" font-weight="bold">Current Features: ‚úÖ</text>
            <text x="300" y="1220" font-size="12" fill="#666">‚Ä¢ All viewing capabilities</text>
            <text x="300" y="1240" font-size="12" fill="#666">‚Ä¢ Data import & management</text>
            <text x="300" y="1260" font-size="12" fill="#666">‚Ä¢ Export & reporting</text>
            <text x="300" y="1280" font-size="12" fill="#666">‚Ä¢ Formula calculations</text>
            
            <text x="800" y="1200" font-size="14" fill="#F57F17" font-weight="bold">Planned Features: ‚≠ê</text>
            <text x="800" y="1220" font-size="12" fill="#F57F17">‚Ä¢ Bilanz (Balance Sheet)</text>
            <text x="800" y="1240" font-size="12" fill="#F57F17">‚Ä¢ User Input & Scenarios</text>
            <text x="800" y="1260" font-size="12" fill="#F57F17">‚Ä¢ Scenario Comparison</text>
            <text x="800" y="1280" font-size="12" fill="#F57F17">‚Ä¢ PDF Export</text>
        </svg>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-box legend-current"></div>
                <span><strong>Current Features</strong> - Already implemented ‚úÖ</span>
            </div>
            <div class="legend-item">
                <div class="legend-box legend-planned"></div>
                <span><strong>Planned Features</strong> - To be implemented <span class="star">‚≠ê</span></span>
            </div>
            <div class="legend-item">
                <svg width="60" height="30">
                    <line x1="5" y1="15" x2="55" y2="15" stroke="#757575" stroke-width="2"/>
                </svg>
                <span><strong>Association</strong> - User interacts with use case</span>
            </div>
            <div class="legend-item">
                <svg width="60" height="30">
                    <line x1="5" y1="15" x2="55" y2="15" stroke="#4CAF50" stroke-width="2" stroke-dasharray="5,5"/>
                </svg>
                <span><strong>Include</strong> - Use case includes another</span>
            </div>
        </div>
        
        <div style="margin-top: 30px; padding: 20px; background: #E8F5E9; border-radius: 10px; border-left: 5px solid #4CAF50;">
            <h3 style="margin-top: 0; color: #2E7D32;">üìã Key Features Overview</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div>
                    <h4 style="color: #4CAF50; margin-bottom: 10px;">üßë Public User Can:</h4>
                    <ul style="color: #333; line-height: 1.8;">
                        <li>View all energy data hierarchies</li>
                        <li>Toggle renewable energy sections</li>
                        <li>Analyze SMARD historical data</li>
                        <li>Export reports to Excel</li>
                        <li>View land use statistics</li>
                    </ul>
                </div>
                <div>
                    <h4 style="color: #2196F3; margin-bottom: 10px;">üë®‚Äçüíº Admin/Analyst Can:</h4>
                    <ul style="color: #333; line-height: 1.8;">
                        <li>All Public User capabilities</li>
                        <li><span class="star">‚≠ê</span> View energy balance sheets</li>
                        <li><span class="star">‚≠ê</span> Create custom scenarios</li>
                        <li><span class="star">‚≠ê</span> Edit values and formulas</li>
                        <li>Import data from CSV files</li>
                        <li>Run calculations & simulations</li>
                    </ul>
                </div>
                <div>
                    <h4 style="color: #FF9800; margin-bottom: 10px;">üñ•Ô∏è System Automatically:</h4>
                    <ul style="color: #333; line-height: 1.8;">
                        <li>Calculates all formulas</li>
                        <li>Processes data relationships</li>
                        <li>Generates reports & exports</li>
                        <li>Validates data integrity</li>
                        <li>Handles percentage conversions</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div style="margin-top: 20px; text-align: center; color: #666; font-size: 14px;">
            <p>Generated: November 6, 2025 | Energy Simulation Web Application</p>
            <p style="margin-top: 10px;">
                <strong>Tech Stack:</strong> Django 4.2 | SQLite | Chart.js | Bootstrap 5 | PyPSA
            </p>
        </div>
    </div>
</body>
</html>
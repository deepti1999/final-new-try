{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use Case Diagram - Energy Simulation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
        }
        
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1rem 0;
        }
        
        .navbar-brand {
            color: white !important;
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .diagram-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px auto;
            max-width: 1800px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #667eea;
            margin-bottom: 30px;
            text-align: center;
        }
        
        #diagram {
            width: 100%;
            height: 900px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: #fafafa;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'simulator:landing_page' %}">
                ‚ö° Energy Simulation System
            </a>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="diagram-container">
            <h2>Interactive Balancing System - Use Case Diagram</h2>
            <svg id="diagram" viewBox="0 0 1600 1200" xmlns="http://www.w3.org/2000/svg">
                <!-- System Boundary -->
                <rect x="200" y="30" width="1200" height="1140" fill="none" stroke="#333" stroke-width="3" stroke-dasharray="10,5" rx="20"/>
                <text x="800" y="70" text-anchor="middle" font-size="24" font-weight="bold" fill="#333">Energy Balancing System</text>
                
                <!-- USER ACTOR -->
                <g id="user-actor">
                    <circle cx="80" cy="250" r="30" fill="#4CAF50" stroke="#2E7D32" stroke-width="3"/>
                    <line x1="80" y1="280" x2="80" y2="360" stroke="#2E7D32" stroke-width="3"/>
                    <line x1="80" y1="310" x2="40" y2="350" stroke="#2E7D32" stroke-width="3"/>
                    <line x1="80" y1="310" x2="120" y2="350" stroke="#2E7D32" stroke-width="3"/>
                    <line x1="80" y1="360" x2="50" y2="420" stroke="#2E7D32" stroke-width="3"/>
                    <line x1="80" y1="360" x2="110" y2="420" stroke="#2E7D32" stroke-width="3"/>
                    <text x="80" y="450" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">User</text>
                </g>
                
                <!-- SYSTEM ACTOR -->
                <g id="system-actor">
                    <circle cx="1520" cy="600" r="30" fill="#FF9800" stroke="#E65100" stroke-width="3"/>
                    <line x1="1520" y1="630" x2="1520" y2="710" stroke="#E65100" stroke-width="3"/>
                    <line x1="1520" y1="660" x2="1480" y2="700" stroke="#E65100" stroke-width="3"/>
                    <line x1="1520" y1="660" x2="1560" y2="700" stroke="#E65100" stroke-width="3"/>
                    <line x1="1520" y1="710" x2="1490" y2="770" stroke="#E65100" stroke-width="3"/>
                    <line x1="1520" y1="710" x2="1550" y2="770" stroke="#E65100" stroke-width="3"/>
                    <text x="1520" y="800" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">System</text>
                </g>
                
                <!-- USE CASE 1: Edit Demand -->
                <ellipse cx="400" cy="150" rx="130" ry="50" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
                <text x="400" y="155" text-anchor="middle" font-size="15" font-weight="bold" fill="#1565C0">Edit Demand Data</text>
                <line x1="120" y1="280" x2="270" y2="160" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 2: Edit Land Use -->
                <ellipse cx="400" cy="250" rx="130" ry="50" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
                <text x="400" y="255" text-anchor="middle" font-size="15" font-weight="bold" fill="#1565C0">Edit Land Use Data</text>
                <line x1="120" y1="310" x2="270" y2="260" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 3: View Bilanz -->
                <ellipse cx="700" cy="200" rx="130" ry="50" fill="#FFF9C4" stroke="#F57F17" stroke-width="3" stroke-dasharray="5,5"/>
                <text x="700" y="195" text-anchor="middle" font-size="15" font-weight="bold" fill="#F57F17">‚≠ê View Bilanz</text>
                <text x="700" y="215" text-anchor="middle" font-size="13" fill="#F57F17">(Balance Sheet)</text>
                <line x1="120" y1="320" x2="570" y2="210" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 4: Balance with Solar -->
                <ellipse cx="700" cy="350" rx="140" ry="50" fill="#FFF9C4" stroke="#FF8C00" stroke-width="3" stroke-dasharray="5,5"/>
                <text x="700" y="345" text-anchor="middle" font-size="15" font-weight="bold" fill="#FF6600">‚≠ê Balance with</text>
                <text x="700" y="365" text-anchor="middle" font-size="15" font-weight="bold" fill="#FF6600">Solar ‚òÄÔ∏è</text>
                <line x1="120" y1="340" x2="560" y2="350" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 5: Balance with Wind -->
                <ellipse cx="700" cy="480" rx="140" ry="50" fill="#FFF9C4" stroke="#4682B4" stroke-width="3" stroke-dasharray="5,5"/>
                <text x="700" y="475" text-anchor="middle" font-size="15" font-weight="bold" fill="#4169E1">‚≠ê Balance with</text>
                <text x="700" y="495" text-anchor="middle" font-size="15" font-weight="bold" fill="#4169E1">Wind üí®</text>
                <line x1="120" y1="360" x2="560" y2="470" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 6: Calculate Balance -->
                <ellipse cx="1000" cy="250" rx="140" ry="50" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
                <text x="1000" y="245" text-anchor="middle" font-size="15" font-weight="bold" fill="#2E7D32">Calculate Supply</text>
                <text x="1000" y="265" text-anchor="middle" font-size="15" font-weight="bold" fill="#2E7D32">vs Demand</text>
                <line x1="1440" y1="640" x2="1140" y2="270" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 7: Auto-Adjust Land -->
                <ellipse cx="1000" cy="420" rx="140" ry="50" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
                <text x="1000" y="415" text-anchor="middle" font-size="15" font-weight="bold" fill="#2E7D32">Auto-Adjust</text>
                <text x="1000" y="435" text-anchor="middle" font-size="15" font-weight="bold" fill="#2E7D32">Land Use</text>
                <line x1="1480" y1="660" x2="1140" y2="440" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 8: Recalculate Formulas -->
                <ellipse cx="1000" cy="590" rx="140" ry="50" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
                <text x="1000" y="585" text-anchor="middle" font-size="15" font-weight="bold" fill="#2E7D32">Recalculate</text>
                <text x="1000" y="605" text-anchor="middle" font-size="15" font-weight="bold" fill="#2E7D32">All Formulas</text>
                <line x1="1480" y1="680" x2="1140" y2="600" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 9: Update All Data -->
                <ellipse cx="1000" cy="760" rx="140" ry="50" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
                <text x="1000" y="745" text-anchor="middle" font-size="13" font-weight="bold" fill="#2E7D32">Update Renewable,</text>
                <text x="1000" y="763" text-anchor="middle" font-size="13" font-weight="bold" fill="#2E7D32">Verbrauch &</text>
                <text x="1000" y="781" text-anchor="middle" font-size="13" font-weight="bold" fill="#2E7D32">Bilanz Data</text>
                <line x1="1480" y1="700" x2="1140" y2="770" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 10: Display Results -->
                <ellipse cx="700" cy="650" rx="130" ry="50" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
                <text x="700" y="645" text-anchor="middle" font-size="15" font-weight="bold" fill="#1565C0">View Updated</text>
                <text x="700" y="665" text-anchor="middle" font-size="15" font-weight="bold" fill="#1565C0">Balance Status</text>
                <line x1="120" y1="380" x2="570" y2="640" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 11: Save Scenario -->
                <ellipse cx="400" cy="750" rx="130" ry="50" fill="#FFF9C4" stroke="#F57F17" stroke-width="3" stroke-dasharray="5,5"/>
                <text x="400" y="745" text-anchor="middle" font-size="15" font-weight="bold" fill="#F57F17">‚≠ê Save Scenario</text>
                <text x="400" y="765" text-anchor="middle" font-size="13" fill="#F57F17">(Custom Name)</text>
                <line x1="110" y1="400" x2="290" y2="725" stroke="#666" stroke-width="2"/>
                
                <!-- USE CASE 12: Compare Scenarios -->
                <ellipse cx="400" cy="900" rx="130" ry="50" fill="#FFF9C4" stroke="#F57F17" stroke-width="3" stroke-dasharray="5,5"/>
                <text x="400" y="895" text-anchor="middle" font-size="15" font-weight="bold" fill="#F57F17">‚≠ê Compare</text>
                <text x="400" y="915" text-anchor="middle" font-size="13" fill="#F57F17">Multiple Scenarios</text>
                <line x1="100" y1="420" x2="300" y2="880" stroke="#666" stroke-width="2"/>
                
                <!-- INCLUDE RELATIONSHIPS (dashed) -->
                <line x1="830" y1="220" x2="860" y2="240" stroke="#4CAF50" stroke-width="2" stroke-dasharray="8,4"/>
                <text x="870" y="180" font-size="12" fill="#4CAF50" font-style="italic">&lt;&lt;include&gt;&gt;</text>
                
                <line x1="840" y1="370" x2="860" y2="400" stroke="#4CAF50" stroke-width="2" stroke-dasharray="8,4"/>
                <text x="870" y="360" font-size="12" fill="#4CAF50" font-style="italic">&lt;&lt;include&gt;&gt;</text>
                
                <line x1="840" y1="490" x2="860" y2="550" stroke="#4CAF50" stroke-width="2" stroke-dasharray="8,4"/>
                <text x="870" y="510" font-size="12" fill="#4CAF50" font-style="italic">&lt;&lt;include&gt;&gt;</text>
                
                <!-- LEGEND -->
                <g id="legend">
                    <rect x="250" y="1000" width="1100" height="150" fill="#f8f9fa" stroke="#999" stroke-width="2" rx="10"/>
                    
                    <text x="800" y="1035" text-anchor="middle" font-size="18" font-weight="bold" fill="#333">Legend</text>
                    
                    <ellipse cx="350" cy="1080" rx="60" ry="25" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
                    <text x="480" y="1088" font-size="14" fill="#333">Current Features</text>
                    
                    <ellipse cx="750" cy="1080" rx="60" ry="25" fill="#FFF9C4" stroke="#F57F17" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="880" y="1088" font-size="14" fill="#333">‚≠ê Planned Features</text>
                    
                    <line x1="300" y1="1125" x2="380" y2="1125" stroke="#666" stroke-width="2"/>
                    <text x="400" y="1130" font-size="14" fill="#333">User Interaction</text>
                    
                    <line x1="650" y1="1125" x2="730" y2="1125" stroke="#4CAF50" stroke-width="2" stroke-dasharray="8,4"/>
                    <text x="750" y="1130" font-size="14" fill="#333">&lt;&lt;include&gt;&gt; Relationship</text>
                </g>
            </svg>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
